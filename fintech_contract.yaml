dataContractSpecification: 0.9.3
id: urn:datacontract:fintech:transactions
version: 1.0.0

info:
  title: "FinTech Transaction Log"
  description: |
    Transaction stream for fraud detection with strict account ID validation.
  owner: "Payments Data Engineering"
  contact:
    name: "Fraud Platform"
    email: "fraud-data@bank.com"
    slack: "#fraud-data"
  classification: restricted
  tags: [fintech, transactions, fraud, compliance]

schema:
  type: object
  properties:
    account_source_id:
      type: string
      pattern: "^[A-Z0-9]{10}$"
      description: |
        Source account ID. Must be exactly 10 uppercase alphanumeric characters.
      pii: false
      physical_mapping: acct_src
    account_destination_id:
      type: string
      description: "Destination account ID."
      pii: false
      physical_mapping: acct_dest
    transaction_timestamp:
      type: string
      format: date-time
      description: "Transaction timestamp (UTC)."
      pii: false
      physical_mapping: tx_ts
  required:
    - account_source_id
    - account_destination_id
    - transaction_timestamp

sla:
  freshness:
    threshold: "1 minute"
    description: "Fraud detection requires near real-time data."
  availability:
    percentage: "99.9%"
    description: "High availability for fraud monitoring."
  retention:
    period: "5 years"
    description: "Retention per financial compliance requirements."

quality:
  - name: account_source_id_pattern
    type: validity
    expression: "REGEXP_LIKE(account_source_id, '^[A-Z0-9]{10}$')"
    threshold: "100%"
    enforcement: hard
    description: "Hard circuit breaker: any violation must block the pipeline."
