dataContractSpecification: 0.9.3
id: urn:datacontract:iot:thermostat-readings
version: 1.0.0

info:
  title: "Smart Thermostat Readings"
  description: |
    Minute-level temperature and battery telemetry from IoT thermostats.
  owner: "IoT Data Platform"
  contact:
    name: "IoT Analytics"
    email: "iot-data@company.com"
    slack: "#iot-data"
  classification: internal
  tags: [iot, thermostat, telemetry]

schema:
  type: object
  properties:
    device_id:
      type: string
      description: "Unique thermostat identifier."
      pii: false
      physical_mapping: dev_id
    temperature_c:
      type: number
      description: "Temperature in Celsius."
      pii: false
      physical_mapping: temp_c
    battery_level:
      type: number
      description: "Battery level from 0.0 to 1.0."
      pii: false
      physical_mapping: batt_lvl
  required:
    - device_id
    - temperature_c
    - battery_level

sla:
  freshness:
    threshold: "2 minutes"
    description: "Telemetry should arrive within 2 minutes of reading."
  availability:
    percentage: "99.5%"
    description: "Continuous device monitoring." 
  retention:
    period: "1 year"
    description: "Telemetry retained for seasonal analysis."

quality:
  - name: temperature_in_range
    type: validity
    expression: "temperature_c >= -30 AND temperature_c <= 60"
    threshold: "100%"
    enforcement: hard
    description: "Temperature must be within -30°C to 60°C inclusive."
  - name: battery_level_in_range
    type: validity
    expression: "battery_level >= 0.0 AND battery_level <= 1.0"
    threshold: "100%"
    enforcement: hard
    description: "Battery level must be between 0.0 and 1.0 inclusive."
